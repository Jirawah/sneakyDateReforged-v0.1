<main class="auth-wrap">


  <section class="auth-panel">

    <!-- Titre + lien "Pas encore inscrit ?" -->
    <h2>CONNEXION</h2>
    <div class="auth-subtext">
      Pas encore inscrit ?
      <a routerLink="/auth/register">INSCRIPTION</a>
    </div>

    <form
      [formGroup]="form"
      (ngSubmit)="submit()"
      class="auth-form"
      style="max-width:420px"
    >
      <!-- Email -->
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" required />
        <mat-error *ngIf="form.get('email')?.hasError('required')">Email requis</mat-error>
        <mat-error *ngIf="form.get('email')?.hasError('email')">Format invalide</mat-error>
      </mat-form-field>

      <!-- Mot de passe -->
      <mat-form-field appearance="outline">
        <mat-label>Mot de passe</mat-label>
        <input matInput type="password" formControlName="password" required />
        <mat-error *ngIf="form.get('password')?.hasError('required')">Mot de passe requis</mat-error>
      </mat-form-field>

      <!-- Bouton Connexion -->
      <button mat-flat-button color="primary" [disabled]="form.invalid || loading">
        {{ loading ? 'Connexion…' : 'CONNEXION' }}
      </button>

      <!-- Erreur éventuelle -->
      <p *ngIf="error" class="auth-error">{{ error }}</p>

      <!-- Liens bas de formulaire -->
      <div class="auth-links">
        <a routerLink="/forgot-password">Mot de passe oublié ?</a>
      </div>
      
    </form>
  </section>
</main>
